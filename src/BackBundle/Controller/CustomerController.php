<?phpnamespace BackBundle\Controller;use BackBundle\Entity\customer;use BackBundle\Entity\Company;use Symfony\Bundle\FrameworkBundle\Controller\Controller;use Sensio\Bundle\FrameworkExtraBundle\Configuration\Route;use Symfony\Component\HttpFoundation\Request;use Symfony\Component\HttpFoundation\Response;use BackBundle\Entity\User;/** * Class UserController * @package BackBundle\Controller * @Route("/customer") */class CustomerController extends Controller{    /**     * @Route("/all", name="back_customer_list")     * @param Request $request     * @return Response     */    public function indexAction(Request $request)    {        $em = $this->getDoctrine()->getEntityManager();//      $limit = ($request->cookies->has("show_limit")) ? $request->cookies->get("show_limit") : 10;        $pageLimited = array(20, 30, 50, 100);        $limit = ($request->get('limit') !== null && in_array($request->get('limit'), $pageLimited)) ? $request->get('limit') : 20;        $search = ($request->get('q') != null) ? $request->get('q') : null;        $query = $em->getRepository('BackBundle:Customer')            ->createQueryBuilder('customer')        ->leftJoin('customer.commercial','commercial')        ->leftJoin('customer.company','company');        if ($search !== null) {            $query->where('customer.lastName like :search')                ->orWhere('customer.firstName like :search')                ->setParameter('search', "%" . $search . "%");        }        $query->orderBy('customer.id', 'DESC');        $customers = $this->get('knp_paginator')            ->paginate(                $query, /* query NOT result */                $request->query->getInt('page', 1)/*page number*/,                $limit/*limit per page*/            );                return $this->render('BackBundle:Customer:list.html.twig', array(                'customers' => $customers,                'pageLimited' => $pageLimited,            )        );    }    /**     * @Route("/add", name="back_customer_add")     * @param Request $request     * @return Response     */    public function addAction(Request $request)    {        die("add");        return $this->render('BackBundle:Pages:index.html.twig');    }    /**     * @Route("/edit/{slug}", name="back_customer_edit")     * @param Request $request     * @param $slug     * @return Response     */    public function editAction(Request $request, $slug)    {        die("Edit");        return $this->render('BackBundle:Pages:index.html.twig');    }    /**     * @Route("/remove", name="back_customer_remove")     * @param Request $request     * @return Response     */    public function removeAction(Request $request)    {        die("remove");        return $this->render('BackBundle:Pages:index.html.twig');    }}