{% extends "BackBundle::layout.html.twig" %}{#Include CSS#}  {% block stylesheets %}      {{ parent() }}      {% stylesheets      'https://cdn.datatables.net/1.10.11/css/jquery.dataTables.min.css'      'bundles/back/css/tables.css'      'bundles/back/css/style.css'      filter='cssrewrite' %}      <link rel="stylesheet" href="{{ asset_url }}"/>      {% endstylesheets %}      <style type="text/css">      </style>  {% endblock stylesheets %}    {% block title %}    Liste des Ordinateurs | {{ parent() }}{% endblock %}{# HEADER #}    {% block header_breadcrumb %}        <li>            <span>Liste des Ordinateurs</span>        </li>    {% endblock header_breadcrumb %}{% block action_toolbar %}{% endblock action_toolbar %}    {#{% block page_title %}Clients{% endblock page_title %}#}    {#{% block page_sub_title %}#}        {#<small>Liste</small>{% endblock page_sub_title %}#}{% block back_body %}    <div class="row" id="">        <div class="col-md-12 col-sm-12 margin-top-20">            <!-- BEGIN Portlet PORTLET-->            <div class="portlet">                <div class="portlet-title ">                    <div class="caption font-green-sharp">                        <i class="icon-drawer font-green-sharp"></i>                        <span class="caption-subject bold uppercase"> Ordinateurs</span>                        {% if groups is defined %}                            <span class="caption-helper">  Total: {{ groups | length }}</span>                        {% endif %}                    </div>                </div>                <div class="portlet-body">                    {% include('BackBundle:Includes:alert.html.twig') %}                    <div class="row">                                                <div class="col-sm-12">                        <!-- BEGIN Row-->                        {% if computers is defined %}                                                        {#{{ dump(computers) }}#}                            <div class="panel-group accordion" id="accordion3">                                {% for key, computer in computers %}                                    {% if  key != "count" or key =="0" %}                                        <div class="panel panel-default">                                            <div class="panel-heading">                                                <h4 class="panel-title">                                                    <a class="accordion-toggle accordion-toggle-styled collapsed"                                                       data-toggle="collapse" data-parent="#accordion3"                                                       href="#control-{{ key }}">                                                        <i class="fa fa-desktop fa-fw"></i>                                                        {{ ldap_service.getData(computer,"cn") }}                                                        ( {{ ldap_service.getData(computer,"operatingsystem") }})                                                    </a>                                                    </a>                                                </h4>                                            </div>                                            <div id="control-{{ key }}" class="panel-collapse collapse">                                                <div class="row">                                                    <div class="col-sm-12" id="computers-table">                                                        {#<div class="panel-body">#}                                                        <table class="table table-responsive">                                                            <tr>                                                                <td class="col-sm-3"><i class="fa fa-laptop fa-fw"></i>                                                                    <b>Nom                                                                        PC</b></td>                                                                <td>                                                                    {{ ldap_service.getData(computer,"cn") }}                                                                </td>                                                            </tr>                                                            <tr>                                                                <td class="col-sm-3"><i class="fa fa-cog fa-fw"></i>                                                                    <b>OS</b>                                                                </td>                                                                <td>                                                                    {{ ldap_service.getData(computer,"operatingsystem") }}                                                                </td>                                                            </tr>                                                            <tr>                                                                <td class="col-sm-3"><i                                                                            class="fa fa-download fa-fw"></i>                                                                    <b>Version</b>                                                                </td>                                                                <td>                                                                    {{ ldap_service.getData(computer,"operatingsystemversion") }}                                                                </td>                                                            </tr>                                                            <tr>                                                                <td class="col-sm-3"><i class="fa fa-globe fa-fw"></i>                                                                    <b>DNS Host Name</b></td>                                                                <td>                                                                    {{ ldap_service.getData(computer,"dnshostname") }}                                                                </td>                                                            </tr>                                                            {% set ridsetreferences=ldap_service.getData(computer,"ridsetreferences") %}                                                            {% if ridsetreferences %}                                                                {% set ridRefs =ldap_service.getByDn(ridsetreferences) %}                                                                <tr>                                                                    <td class="col-sm-3"><i                                                                                class="fa fa-cube fa-fw"></i>                                                                        <b>Rid Set</b></td>                                                                    {% for  keyRid,ridRef in ridRefs %}                                                                        {% if  keyRid != "count" or keyRid =="0" %}                                                                            <td>                                                                                {{ ldap_service.getData(ridRef,"cn") }}                                                                            </td>                                                                        {% endif %}                                                                    {% endfor %}                                                                </tr>                                                            {% endif %}                                                            {% set arrayGroups=ldap_service.getArray(computer,"memberof") %}                                                            {% if arrayGroups %}                                                                <tr>                                                                    <td class="col-sm-3"><i                                                                                class="fa fa-users fa-fw"></i>                                                                        <b>Groupes</b></td>                                                                    <td>                                                                        <ul class="list-unstyled">                                                                            {% for  keyUser, groupDn in arrayGroups %}                                                                                {% if  keyUser != "count" or keyUser =="0" %}                                                                                    {% set group =ldap_service.getByDn(groupDn) %}                                                                                    <li>                                                                                        {{ ldap_service.getOneData(group,"cn") }}                                                                                    </li>                                                                                {% endif %}                                                                            {% endfor %}                                                                        </ul>                                                                    </td>                                                                </tr>                                                            {% endif %}                                                            {% set serverreferencebl=ldap_service.getData(computer,"serverreferencebl") %}                                                            {% if serverreferencebl %}                                                                {% set servers =ldap_service.getByDn(serverreferencebl) %}                                                                <tr>                                                                    <td class="col-sm-3"><i                                                                                class="fa fa-server fa-fw"></i>                                                                        <b>Serveur Réf</b></td>                                                                    <td>                                                                        <ul class="list-unstyled">                                                                            {% for  keyserver, server in servers %}                                                                                {% if  keyserver != "count" or keyserver =="0" %}                                                                                    <li>                                                                                        {{ ldap_service.getData(server,"cn") }}                                                                                        {{ ldap_service.getData(server,"dnshostname") }}                                                                                    </li>                                                                                {% endif %}                                                                            {% endfor %}                                                                        </ul>                                                                    </td>                                                                </tr>                                                            {% endif %}                                                            {% set serviceprincipalname=  ldap_service.getArray(computer,"serviceprincipalname") %}                                                            {% if serviceprincipalname %}                                                                <tr>                                                                    <td class="col-sm-3"><i                                                                                class="fa fa-cogs fa-fw"></i>                                                                        <b>Service principal Name</b></td>                                                                    <td>                                                                        <ul class="list-unstyled">                                                                            {% for  keyservice, service in serviceprincipalname %}                                                                                {% if  keyservice != "count" or keyservice =="0" %}                                                                                    <li>                                                                                        {{ service }}                                                                                    </li>                                                                                {% endif %}                                                                            {% endfor %}                                                                        </ul>                                                                    </td>                                                                </tr>                                                            {% endif %}                                                        </table>                                                        <ul class="list-unstyled">                                                            <li></li>                                                        </ul>                                                        {#<p>#}                                                        {#<a class="btn blue" href="ui_tabs_accordions_navs.html#collapse_3_2"#}                                                        {#target="_blank"> Activate this section via URL </a>#}                                                        {#</p>#}                                                    </div>                                                </div>                                            </div>                                            {#</div>#}                                        </div>                                    {% endif %}                                {% endfor %}                            </div>                            {#<table class="table table-striped table-hover table-header-fixed order-column"#}                            {#id="table-computers" cellspacing="0" width="100%"#}                            {#data-line="25">#}                            {#<thead>#}                            {#<tr>#}                            {#&#123;&#35;<th>#</th>&#35;&#125;#}                            {#<th>Nom Pc</th>#}                            {#<th>OS</th>#}                            {#<th>DNS Host Name</th>#}                            {#<th>Groupes</th>#}                            {#&#123;&#35;  <th>serverreferencebl</th>#}                            {#<th>ridsetreferences</th>#}                            {#<th>distinguishedname</th>#}                            {#<th>distinguishedname</th>&#35;&#125;#}                            {#</tr>#}                            {#</thead>#}                            {#<tbody>#}                            {#{% for key, computer in computers %}#}                            {#{% if  key != "count" or key =="0" %}#}                            {#<tr id="line-{{ key }}">#}                            {#&#123;&#35;<td>{{ key }}</td>&#35;&#125;#}                            {#<td>#}                            {#<i class="fa fa-laptop fa-fw"></i> {{ ldap_service.getData(computer,"cn") }}#}                            {#</td>#}                            {#<td>#}                            {#<i class="fa fa-desktop fa-fw"></i> {{ ldap_service.getData(computer,"operatingsystem") }}#}                            {#</td>#}                            {#<td>#}                            {#<i class="fa fa-globe fa-fw"></i> {{ ldap_service.getData(computer,"dnshostname") }}#}                            {#</td>#}                            {#<td>#}                            {#{% set arrayGroups=ldap_service.getArray(computer,"memberof") %}#}                            {#{% if arrayGroups %}#}                            {#<ul class="list-unstyled">#}                            {#{% for  keyUser, groupDn in arrayGroups %}#}                            {#{% if  keyUser != "count" or keyUser =="0" %}#}                            {#{% set group =ldap_service.getByDn(groupDn) %}#}                            {#<li>#}                            {#<i class="fa fa-users fa-fw"></i> {{ ldap_service.getOneData(group,"cn") }}#}                            {#</li>#}                            {#{% endif %}#}                            {#{% endfor %}#}                            {#</ul>#}                            {#{% endif %}#}                            {#</td>#}                            {#</tr>#}                            {#{% endif %}#}                            {#{% endfor %}#}                            {#</tbody>#}                            {#</table>#}                        {% else %}                            Aucun ordi trouvé.                        {% endif %}                        <!-- End Row-->                    </div>                    </div>                </div>            </div>        </div>    </div>{% endblock back_body %}{% block javascripts %}    {{ parent() }}    {% javascripts    "bundles/back/theme/assets/global/plugins/datatables/datatables.min.js"    "bundles/back/js/ad/dataTable.js"    "bundles/back/js/ad/app.js"     %}    <script src="{{ asset_url }}"></script>    {% endjavascripts %}{% endblock %}